С помощью графов можно:
1) Оптимизировать маршруты (для курьеров)
2) Решать задачи связей (как связаны пользователи)
3) Упрощать сложные системы (как устроены сложные структуры)

Методами теории графов можно решать задачи оптимизации, находя оптимальные пути и решения для различных процессов.
Это могут быть:
1) Транспортные сети
2) Компьютерные сети
3) Биологические сети

Графы помогают выявлять скрытые закономерности и паттерны в данных, что облегчает анализ сложных систем.
Графовые нейронные сети позволяют моделям учитывать все переплетения связей между объектами. В результате предсказания становятся более точными и осмысленными.

## Фундаментальные понятия теории графов
**Граф G - это математическая структура из двух множеств: множества вершин V и множества ребер E**.
G = (V,E)

Вершина - обозначает объект или сущность: (A,B,C) или (1,2,3). Степенью вершины обозначают количество ребер, прилежащих к вершине.

**Свойства вершин:**
1) Изолированная вершина: объекты без связей с остальной частью системы
2) Висячая вершина: из вершины исходит одно ребро
3) Шарнир: если удаление этой вершины приводит к потере связности графа (граф разбивается на несколько частей)

**Свойства ребер:**
1) Смежные ребра: имеют одну общую вершину
2) Кратные ребра: соединяют одну и ту же пару вершин (одинаковые начало и конец). Позволяют моделировать множественные связи между одними и теми же объектами
3) Направленные ребра: имеет направление
4) Петля: соединяет вершину с самой собой
5) Мост: после удаления граф становится менее связным

**Инцидентность** - вершина и ребро считаются инцидентными, если это ребро соединяет данную вершину с какой либо другой вершиной. Относится к паре "вершина - ребро". Ребро инцидентно своим конечным вершинам и каждая вершина инцидентна всем ребрам, которые к ней прилегают.
1) Инцидентное (прилежащее) ребро - ребро, которое соединяет данную вершину с другой вершиной
2) Инцидентная (прилежащая) вершина - вершина, которая является концом данного ребра

**Смежность** - описывает отношения между двумя вершинами или двумя ребрами.
1) Смежные вершины - соединены общим ребром
2) Смежные ребра - имеют общую вершину

> [!NOTE] 
> Инцидентность показывает связь между вершинами и ребрами, а смежность помогает описать взаимное расположение вершин и ребер в графе.

**Путь** - последовательность вершин, в которой каждая пара соседних вершин соединена ребром.
1) Простой путь - все вершины попарно различны/не повторяются.
2) Цикл - начинается и заканчивается в одной и той же вершине. Длина цикла - количество ребер, входящих в цикл. Простой цикл - все вершины и ребра различны.


**Полный граф** - Все вершины соединены между собой ребрами. Для V вершин максимальное количество ребер равно **V(V-1)/2** в неориентированном графе и **V(V-1)** в ориентированном.
**Плотный граф** - граф, в котором число ребер близко к максимально возможному.
**Разреженный граф** - граф, в котором число ребер значительно меньше максимального.

**Подграф** - граф H, вершины и ребра которого являются подмножествами вершин и ребер исходного графа G. 

## Как задать граф: способы представления
1) Список ребер
   Набор пар вершин, соединенных ребрами. В большинстве своем представлен в виде таблицы с полями "начальная вершина, конечная вершина" и с дополнительными атрибутами. В неориентированном графе каждая пара вершин записывается только один раз. В ориентированном - с учетом направления. Удобство - **простота реализации при небольшом количестве связей**. 
2) Матрица смежности
   Используется квадратная матрица, где строки и столбцы представляют вершины. Элемент матрицы равен 1, если вершины i и j соединены, и 0 - в противном случае.
   Если у ребер есть вес, то вместо 1 указывается вес ребра (взвешенный граф). **Для разреженных графов менее эффективно**.
3) Список смежности
   Для каждой вершины хранится список индексов вершин, с которыми она соединена (Словарь списков).
4) Набор степеней вершин
   Граф представляется списком степеней каждой вершины, то есть количеством ребер, которые к ней прилегают. Этот метод удобен для анализа свойств графа, таких как плотность связей и распределение степеней вершин. Преимущество - компактность, особенно если большое количество вершин и небольшое ребер. Но не позволяет точно восстановить структуру графа.

## Визуализация графа с помощью Python
**Библиотека networkx**
```
import networkx as nx

import matplotlib.pyplot as plt

import numpy as np

  

#1. Создание графа из списка ребер

edges = [(1,2), (1,3), (2,3), (2,4), (2,5), (3,5)]

graph1 = nx.Graph()

graph1.add_edges_from(edges)

  

#2. Создание графа из матрица смежности

adjacency_matrix = np.array([

    [0,1,1,0,0],

    [1,0,1,1,1],

    [1,1,0,0,1],

    [0,1,0,0,0],

    [0,1,1,0,0]

])

graph2 = nx.from_numpy_array(adjacency_matrix)

  

#3. Создание графа из списка степеней вершин

degrees = [4,2,2,2,2]

graph3 = nx.random_degree_sequence_graph(degrees)

  

plt.figure(figsize=(12,4))

plt.subplot(131)

nx.draw(graph1, with_labels=True)

plt.title("Из списка ребер")

  

plt.subplot(132)

nx.draw(graph2, with_labels=True)

plt.title("Из матрицы смежности")

  

plt.subplot(133)

nx.draw(graph3, with_labels=True)

plt.title("Из списка степеней")

  

plt.tight_layout()

plt.show()
```



---
Читать с файла: `sys.stdin.readline().strip()` с помощью библиотеки `import sys`

# Типы графов
## Классификация 1: по кратным ребрам и петлям
1) Обыкновенный граф - между любыми двумя вершинами может быть не более одного ребра и отсутствуют петли.
2) Мультиграф - если граф допускает кратные ребра, то есть между двумя вершинами может быть несколько ребер, а также разрешаются петли
3) Граф с петлями - допускает петли.
4) Пустой граф - только из изолированных вершин

## Классификация 2: по направленности ребер
1) Неориентированный граф - ребра не имеют направления
2) Ориентированный граф - есть направление ребер
## Классификация 3: по связности
1) Связный неориентированный граф - граф, в котором можно добраться от любой вершины к любой другой по последовательности ребер. Гарантирует, что из любой вершины можно прийти к другой
2) Сильно связный ориентированный граф - каждая вершина достижима из любой другой с учетом направленности ребер.
3) Слабо связный ориентированный граф - граф, который становится связным, если его ребра рассматривать как неориентированные. (Если игнорировать направление ребер, вершины будут соединены).
## Классификация 4: по полноте
1) Полные графы - каждая пара вершин соединена ребрами.
2) Полный неориентированный граф - каждая пара вершин соединена ровно одним ребром
3) Полный ориентированный граф - каждая  пара различных вершин соединена двумя ребрами, направленными в противоположные стороны.
## Лемма о рукопожатиях
Позволяет быстро определить общее количество связей в графе по количеству связей каждого элемента.

**Сумма степеней всех вершин графа всегда равна удвоенному числу его ребер**

Это выражение показывает, что сумма степеней всех вершин графа всегда является четным числом, так как каждое ребро добавляет ровно по единице к степени двух вершин, которые оно соединяет.

**Следствие из леммы о рукопожатиях:** В любом графе число вершин нечетной степени является четным. Так как сумма степеней всех вершин четна, то и число вершин с нечетной степенью должно быть четным.

## Двудольные графы

Двудольный граф - это граф, в котором все вершины можно разделить на две группы, так, что ребра соединяют только вершины из разных долей. Не существует ребер, которые бы соединяли вершины из одной доли.

Чтобы без картинки понять, что это двудольный граф, нужно воспользоваться **теоремой Кёнига.**

**Теорема Кёнига** - граф является двудольным тогда и только тогда, когда в нем нет циклов вообще или нет циклов нечетной длины (мо.

