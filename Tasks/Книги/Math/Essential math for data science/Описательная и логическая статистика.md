
```dataview 	
TABLE without id	
file.outlinks AS "OUTGOING", 	
file.inlinks AS "BACKLINKS"	
WHERE file.name = this.file.name 
```

#reference

# Links

# Description
Будут рассмотрены основы статистики и проверки гипотез. Описательная статистика и способы обобщения данных. Затем логистическая статистика, которая позволяет выявить характеристики генеральной совокупности на основе выборки.
1) **Что такое данные**.
	Мы считаем это как фундаментальное понятие, которое всем понятно. Никто не станет вдаваться в подробности при определении этого слова. Чем больше у вас данных, тем больше у вас правды. Но данные сами по себе ничего из себя не представляют. Важной вещью является анализ данных. Не важно, сколько у нас данных, их может быть сотни терабайт. Data mining или интеллектуальный анализ данных позволяет извлекать полезную информацию из больших наборов данных. Также важным фактом является достоверность информации или откуда они взялись. Лишь 13% всех проектов по машинному обучению оказались успешными, так как они анализировали не только сами данные, но и их источник.
2) **Описательная (дескриптивная) и логическая (инференциальная) статистика**.
	описательная статистика более интуитивно понятна, чем логическая (инференциальная) статистика, так как она обобщает данные. А логическая статистика помогает делать общие выводы на основе небольшой выборки (с вероятностью 95% 55 процентов россиян любят шоколадное мороженое). **Это как предсказание для целого пирога, пробуя лишь кусочек. Если кусок выбран правильно, вывод будет точным.**
	1) **Популяция, выборки и систематическая ошибка (предвзятость)**.
		
		**Популяция - это совокупность объектов, которые представляют интерес для исследования. Это могут быть люди, животные, растения, события, абстрактные данные.**
		
		**Выборка - подмножество элементов генеральной совокупности. Является случайной и непредвзятой. Используется для того, чтобы делать вывод о всей генеральной совокупности (популяции).**
		
		Популяции могут быть абстрактными и физически неосязаемы. Например, нас интересуют рейсы с 2 до 4 часов дня. Но в это время недостаточно рейсов для того, чтобы выявить какие из них опаздывают. Поэтому мы можем рассматривать эту группу как выборку из теоретической популяции. 
		Если нужно сделать выводы на основе выборки, то она должна быть случайной, чтобы выводы были необъективными.
		
		**Типы предвзятостей**:*предвзятость подтверждения* (собирать данные, которые подтверждают вашу точку зрения),*предвзятость самоотбора* (неосознанно предписывать себя к определенной группе, несмотря на другие факторы), *предвзятость выживания* (выборка состоит только из тех, кто выжил, данные с позитивным исходом. Следует также учитывать и тех, кто претерпел неудачу). 
		
		Главное, что следует помнить - это то, что компьютеры и статистика не видят предвзятости. Поэтому работа по ее выявлению лежит на плечах аналитиков.
		**Предвзятость и выборки в машинном обучении: если данные предвзятые, то и предсказывания будут предвзятыми. Поэтому с данными лучше быть осторожными.**
3) **Описательная статистика** - раздел статистики, который занимается обработкой эмпирических данных, их систематизацией, наглядным представлением в виде графиков и таблиц, а также количественным описанием с помощью основных статистических показателей: среднее значение, медиана, мода, дисперсия, стандартное отклонение и нормальное распределение.
	1) 
		Среднее арифметическое и средневзвешенное значение. Среднее арифметическое показывает, где находится **центр тяжести** наблюдаемого набора значений. Оно рассчитывается одинаково как для популяций (мю), так и для выборок (среднее х). 
		Среднее арифметическое это средневзвешенное арифметическое. Чтобы рассчитать средневзвешенное значение, нужно каждому значению присвоить вес.
		![[Pasted image 20250816001522.png]]
		Это полезно, если мы хотим, чтобы каждое значение влияло на среднее.
	2) 
		Медиана. Она заменяет среднее значение или является альтернативой. Она менее чувствительна к разбросам данных и делит их ровно посередине, исходя из порядка, а не из положения на числовой прямой. Если медиана отличается от среднее значения, это означает, что у вас искаженный набор данных (сильный разброс). 
		**Медиана равна серединному значению из ранжированного ряда (массива).**
		В описательной статистике существует понятие квантилей. Квантили это то же самое, что и медиана, только данные разделяются не посередине. Медиана - это 50% квантиль, также существуют 25%, 50%, 75% квантили, которые называются квартилями, потому что делят данные с шагом 25%.
	3) Мода. Наиболее часто встречающийся набор значений. Полезна, когда данные повторяются. Если два значения встречаются с одинаковой частотой, то набор данных считается бимодальным
	4) 
		Дисперсия и среднеквадратичное отклонение для генеральной совокупности (популяции). **Дисперсия** (variance) - это статистическая мера разброса данных вокруг среднего значения. Чем она больше, тем сильнее разброс данных. Чтобы ее посчитать, нужно возвести разности значений и среднего значения в квадрат и усреднить значения квадратов разностей (среднее арифметическое).
		![[Pasted image 20250816001719.png]]
		Чтобы перевести масштаб в изначальный, нужно из дисперсии вычислить квадратный корень. Это даст нам значение стандартного отклонения (standart deviation). Это дисперсия, преобразованная в число, выраженное в мере вычисляемых данных (в книге пример из количества домашних животных).
	5) 
		Дисперсия и стандартное отклонение для выборки. Вычисляется почти так же:
		![[Pasted image 20250816001759.png]]
		Отличаются от генеральной совокупности лишь тем, что в выборке ограниченный набор данных, поэтому чтобы избежать низкой оценки делим на n-1.
	6) 
		Нормальное распределение или распределение Гаусса. 
		Симметричное колоколообразное распределение, большая часть которого распределена вокруг среднего значения, а разброс определяется стандартным отклонением. “Хвосты” становятся тоньше по мере удаленья от среднего значения. 
		Свойства нормального распределения: симметричность (с обоих сторон от центра или среднего значения), большая часть массы данных сосредоточена вокруг среднего значения, узкий или широкий разброс в зависимости от стандартного отклонения, “хвосты” это наименее возможные исходы (приближаются к нулю, но никогда не достигают), следует центральной предельной теореме. 
		Площадь под всей кривой равна 1, так как площадь под графиком показывает вероятность (максимум 100 процентов).
	7) 
		Функция плотности вероятности (PDF). Создает график нормального распределения (колокол).
		![[Pasted image 20251014232132.png]]
		Площадь под графиком показывает вероятность какого либо значения.
	8) **Кумулятивная функция распределения (CDF)**
		S-образная функция, которая показывает распределение вероятностей до заданного значения X.
		В графике нормального распределения (PDF) вертикальная ось показывает не вероятность, а правдоподобность данных. Чтобы найти вероятность, нужно определить заданный диапазон и найти площадь под графиком.
		В питоне с помощью библиотеки SciPy можно в одну функцию посчитать CDF до заданного значения.
		Чтобы найти вероятность, с которой значение принимает в определенном диапазоне (например, от 5 до 9), нужно как и ранее в функции распределения вероятностей вычесть вероятность меньшего из вероятности большего. (norm.cdf() - norm.cdf()).
	9) Обратная CDF
		Обратная функция распределения вероятностей используется для того, чтобы найти те значения X, при которых вероятность равна какому-либо значению. Называется эта функция PPF.
		Обратная CDF также легко рассчитывается в библиотеке scipy.stats. На вход подается вероятность, а результатом является значение Х, соответствующее этой вероятности по графику CDF.
		С помощью обратной функции можно генерировать случайные числа, которые следуют нормальному распределению. В книге приводится пример, в котором создают симуляцию генерации реалистичных весов золотистых ретриверов. Значения следуют нормальному распределению.
	10) Z-оценка
		Обычно нормальное распределение масштабируют таким образом, чтобы среднее значение равнялось 0, а стандартное отклонение 1. Такое распределение называется **стандартным нормальным распределением**. Это позволяет легко сравнивать между собой нормальные распределения, даже если у них разные дисперсии и средние значения. 
		Особенность стандартного нормального распределения в том, что оно выражает все значения х в терминах стандартных отклонений, известных как z-оценки. Для преобразования значения х в z-оценку используется формула:![[Pasted image 20250820131752.png]]
		Например, есть два района. В районе А средняя стоимость дома 140.000 стандартное отклонение 3.000, а в районе Б средняя стоимость 800.000 стандартное отклонение 10.000. Есть дом А из района А стоимостью 150.000 и дом Б из района Б стоимостью 815.000. Какой из домов дороже относительно среднего значения в их районе.
		Используя формулу z-оценки, можно определить **на сколько стандартных отклонений значение х отделено от среднего значения**. 
	11) Коэффициент вариации
		Полезным инструментом для измерения разброса является коэффициент вариации.
		![[Pasted image 20250820133202.png]]
		Показывает на сколько сильно прыгают данные относительно среднего значения.
		Коэффициент выражается в процентах. **Чем выше процент, тем выше разброс вокруг среднего**, и наоборот если ниже, то данные сконцентрированы вокруг среднего.
		Используется, чтобы сравнивать различные нормальные распределения.
		**CV<10% = низкий разброс**
		**CV = 10-20% = средний разброс**
		**CV = 20-30% = высокий разброс**
		и так далее.
4) **Логическая статистика**: может вызвать затруднения, так как в ней появляются абстрактные взаимосвязи между выборкой и генеральной совокупностью. Мы, люди, склонны к предвзятости и быстро делаем выводы. Но для хорошего специалиста анализа данных нужно уметь видеть и другие объяснения. Иногда лучше объяснить все простой случайностью. **В первую очередь перейдем к фундаментальной теореме логической статистики**.
	1) **Центральная предельная теорема!!!**.
		Сумма достаточно большого количества слабо зависимых случайных величин с примерно одинаковыми масштабами имеет распределение, близкое к нормальному.
		То есть, при достаточно большом размере выборки (принято считать от 31) распределение средних значений выборок будет приближаться к нормальному распределению, независимо от формы исходного распределения данных (могут быть изначально нормальное или случайное).
		В книге рассматривается пример, когда строим гистограмму, в которой 1000 значений х это средние значения выборок по 31 случайному значению. То есть, выбрали 31 случайное число и из них взяли среднее и расположили на гистограмме. И размер от 31 числа в выборке дает нормальное распределение.
			1) Среднее значение выборочных средних (средних от выборок) равно среднему значению генеральной совокупности.
		1) Если генеральная совокупность представляет нормальное распределение, то и выборочные средние тоже будут представлять нормальное распределение.
		2) Если генеральная совокупность не является нормальной, но размер выборки превышает 30, то выборочные средние все равно будут приблизительно равны нормальному распределению
		3) Стандартное отклонение среднего значения **выборки** равно стандартному отклонению генеральной совокупности, деленному на квадратный корень из размера выборки. ![[Pasted image 20250820145123.png]]
		Все вышеперечисленное важно, так как позволяет нам делать выводы о генеральных совокупностях на основе выборок, даже для ненормальных распределений.
		Число 31 - это классическое число в статистике, потому что именно при нем распределение выборки равно распределению генеральной совокупности, особенно когда измеряем средние значения выборки или другие параметры. Но если в выборке количество значений не может быть больше или равно 31, то стоит полагаться на Т-распределение. Но в дальнейшем будем делать вид, что у нас не может быть меньше 31.
		Но иногда может понадобиться и больший размер выборки, когда например базовое распределение ассиметрично или мульти модально (имеет несколько пиков чем в одном среднем значении).
	2) **Доверительные интервалы**. Это диапазон значений, показывающий насколько мы уверены в том, что среднее значение (или другой параметр) выборки находится в пределах среднего значения генеральной совокупности.
		Утверждение: *Основываясь на выборке из 31 золотистого ретривера со средним значением 64,408 и стандартным отклонением 2,05, я на 95 % уверен, что среднее значение генеральной совокупности находится в диапазоне от 63,686 до 65,1296.*
		Сначала я выбираю уровень достоверности (LOC level of confidence), который будет соответствовать желаемой вероятности для диапазона среднего значения генеральной совокупности. Поэтому был выбран уровень достоверности 95%. Мы можем воспользоваться центральной предельной теоремой и определить этот диапазон среднего значения для генеральной совокупности.
		Во-первых, нужно критическое значение z (симметричный диапазон стандартного нормального распределения, дающий 95% вероятность попадания в центр).
		![[Pasted image 20250831194204.png]]
		Как рассчитать вероятность 95% области? Нужно воспользоваться обратным кумулятивным распределением вероятностей (PPF). Должны найти значения x для границ диапазона. На оставшуюся область остается 5%, делим ее пополам и получаем значения 0.025 и 0.975.
		![[Pasted image 20250831194534.png]]
		Сначала найдем чему равно значение x для значений площади под графиком (0.025 и 0.975), которые охватывают 95% всей площади. Затем найдем соответствующие значения для верхней и нижней границы z оценки (norm_dist.ppf(0.025) для нижней границы и тд). Мы получим одинаковые значения по модулю, но разные по знаку.
		Далее воспользуемся ЦПТ, чтобы вычислить предельную ошибку или предельную погрешность (margin of error) E. Она представляет собой диапазон вокруг среднего значения выборки, содержащий среднее значение генеральной совокупности при данном уровне достоверности.
		![[Pasted image 20250901200754.png]]
		(Zc - критическая z оценка, s - стандартное отклонение выборки, n- количество значений в выборке)
		И тогда наш доверительный интервал это среднее значение выборки +- предельная погрешность.
		**По одной единственной выборке можно делать выводы по целой генеральной совокупности.**
	3) **Понимание P-значений**.
		Часто мы слышим, что что-то является статистически важным, но как с математической точки зрения объяснить это утверждение. С этим нам помогут p-значения, они технически связаны с этим выражением. 
		[[История P-значений в статистике. | Как появилось это значение.]] 
		То есть, вероятность того, что что-то произошло случайным образом, а не с соответствующим объяснением и есть р-значение. Неважно, что за ситуации бывают, всегда нужно учитывать, что все могло произойти просто случайным образом.
		Это помогает нам сформулировать нулевую гипотезу (null hypothesis) H0, которая гласит, **что конкретная переменная никак не повлияла на получение положительного результата, это просто случайность**. С другой стороны действует альтернативная гипотеза (alternative hypothesis) H1, которая гласит, что **переменная стала причиной положительного результата.**
		**Традиционно порогом статистической значимости является р-значение, равному 5% и менее или 0.05 и менее**.
	4) **Проверка гипотез**.
		Рассмотрим пример: предыдущие исследования показали, что лечение простуды в **среднем** (мю) занимает 15 дней со **стандартным отклонением** (сигма) в 1.5 дня. Оно подчиняется нормальному распределению. Тогда, вероятность того, что человек выздоровеет в течении 15-21 дня составляет 95% (вычислили с помощью CDF (кумулятивной функции распределения)). 
		Тогда мы можем сказать, что вероятность того, что человек выздоровеет за больше чем 21 день или меньше чем за 15 дней составляет **2.5%**. Это значение влияет на p-значение.
		Теперь скажем, что был введен препарат группе из 40 человек и среднее время лечения составляет 16 дней.
		**Показал ли препарат статистически значимый результат?** Или же препарат не сработал и 16-дневное восстановление лишь случайное значение для этой группы. **Первое утверждение формирует альтернативную гипотезу, а второе - нулевую гипотезу.**
		Ответ на этот вопрос вычисляется с помощью одностороннего и двустороннего критерия (One-tailed and two-tailed Tests).
		1) **One-tailed Test**. 
			При одностороннем критерии формулируется нулевая и альтернативная гипотезы в виде неравенства. Мы выдвигаем гипотезу о среднем значении генеральной совокупности и говорим, что оно либо больше или равно среднего (18) (null hypothesis) или меньше среднего (18) (alternative hypothesis).
			![[Pasted image 20250902134649.png]]
			Чтобы опровергнуть нулевую гипотезу, нужно доказать, что среднее значение выборки пациентов, принимавших препарат не является случайным. Поскольку, р-значение равное или меньше 0.05 (5%) является статистически значимым, мы будем использовать его как пороговое значение. (см. рисунок)
			![[Pasted image 20250908172518.png]]
			С помощью обратной **кумулятивной функции распределения** узнаем значение х для площади 5%. Оно будет равное примерно 15.53 дням.
			![[Pasted image 20250908173053.png]]
			Таким образом, если среднее время восстановления в нашей выборке с препаратом составит 15.53 дня или меньше, то оно будет считаться эффективным и значимым. Однако, среднее количество дней составляет 16 дней и не попадает в зону отклонения нулевой гипотезы, проверка не пройдена.
			![[Pasted image 20250908181309.png]]
			Площадь до отметки в 16 дней - это наше р-значение, которое равно 0.0912. Вычислили это с помощью кумулятивной функции распределения.
			Поскольку, 0.0912 больше отметки р-значения 0.05 которое имеет статистическую значимость, то мы не отвергаем нулевую гипотезу или не исключаем эффект случайности.
		2) **Two-tailed test**
			Прошлый тест гипотезы называется односторонним, так как позволяет выявить статистическую значимость только в одном направлении, однако безопаснее и точнее это делать с помощью двустороннего тестирования.
			Чтобы провести двусторонний тест, нужно сказать, что нулевая гипотеза выполняется, если среднее время восстановления **равно** 18 дням, а альтернативная гипотеза выполняется, если среднее время восстановления **не равно** 18 дням.
			![[Pasted image 20250908182147.png]]
			Мы строим нашу альтернативную гипотезу таким образом, не для того чтобы сказать, что с препаратом среднее время восстановления меньше, а чтобы сказать имеет ли оно какое-либо влияние. Оно также включает в себя вопрос, увеличивается ли продолжительность воздействия простуды.
			Естественно, мы распространяем порог статистической значимости р-значения на оба хвоста распределения. Делим надвое 5% и получаем 2.5% на каждый хвост. Если среднее время восстановления попадает в отмеченные области, то тест пройден и мы отвергаем нулевую гипотезу.
			![[Pasted image 20250908184433.png]]
			С помощью PPF получаем значения х равными 15.06 и 20.93, если среднее значение ниже или выше порога, то нулевая гипотеза отвергается.
			![[Pasted image 20250908184655.png]]
			Для вычисления второго хвоста берем р-значение равное 0.975.
			Так, среднее выборки равно 16 и оно не меньше 15.06 и не больше 20.93, что означает, что мы не можем отвергнуть нулевую гипотезу. Значит, препарат не оказывал статистически важного влияния.
	5) **Т-распределение. Работа с маленькими выборками**
		Как работать с небольшими выборками, состоящими из 30 или менее элементов. **Понадобиться для линейной регрессии в главе 5**. Независимо от того вычисляем ли мы доверительные интервалы или проверяем гипотезы, вместо нормального распределения для такого количества элементов в выборке будет использоваться Т-распределение. Оно похоже на нормальное, но его хвосты более толстые, что отражает большую дисперсию и неопределенность.
		![[Pasted image 20250911182948.png]]
		***Сплошная линия - Т-распределение с одной степенью свободы
		Пунктирная линия -  нормальное распределение***.
		Чем меньше размер выборки, тем толще становятся хвосты. Но после того как количество достигает 31, Т-распределение становится почти неразличимым от нормального распределения, что в точности отражает идеи ЦПТ.
		Найдем критическое значение t для 95% доверительного интервала. (**это значение можно использовать для доверительных интервалов и проверки гипотез, если размер выборки составляет 30 или менее элементов. Оно аналогично критическому значению z, но так как мы используем не нормальное распределение, то z-значение нам не подходит**).
		Количество степеней свободы - это количество элементов в выборке минус единица.
	6) **За гранью среднего**
		Можно использовать доверительные интервалы и проверку гипотез для измерения других параметров, помимо среднего значения, в том числе дисперсии/стандартного отклонения, а также пропорций (отношений). Для этого требуются другие распределения, например распределение хи-квадрат (chi-square) вместо нормального распределения.
	7) **Анализ больших данных и заблуждение о техасском снайпере**
		Случайность играет важную роль в подтверждении наших выводов, мы всегда должны учитывать возможность ее возникновения.
		Представим ситуацию: вы вытащили из колоды карт две десятки, тройку и двойку. Вы подумали, что в этом есть какая-то зависимость. Стали додумывать предположение, какие карты будут следующими.
		В этом примере представлена совершенно случайная модель, но мы стали искать не только закономерности, но и попытались создать прогнозную модель.
		**Именно этому ежедневно подвергается интеллектуальный анализ данных (data mining): поиску закономерностей в случайных событиях.**
		Ошибка техасского снайпера - это когда ученые без какой-либо цели действуют и натыкаются на что-то редкое, а затем заявляют, что найденное ими каким-то образом создает ценность для прогнозирования.
		Закон больших чисел гласит: редкие события рано или поздно произойдут. Мы не должны искать причины для этого, когда оно и так должно было произойти, но мы просто не знали когда именно.
		Это также относится к **корреляциям** (Глава 5)
		Чтобы не допустить ошибку техасского снайпера и не стать жертвой ошибок, связанных с большими данными, нужно использовать структурированное тестирование гипотез и собирать данные для этой цели. Если используется интеллектуальный анализ данных (data mining) старайтесь использовать новые данные, чтобы проверить актуальность выводов. Наконец, учитывайте, что могло произойти просто случайное совпадение. Если нет разумного объяснения, то это скорее всего просто совпадение.