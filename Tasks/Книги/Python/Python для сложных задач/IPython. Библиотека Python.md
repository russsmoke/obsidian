#python #библиотека
# Links

# Описание
Командная оболочка. Вызывается из командной строки Anaconda Prompt. 
В самой оболочке можно найти информацию про функции, исходный код, внутренность импортированного пакета, атрибуты и методы объектов и многое другое.
### Доступ к документации с помощью символа вопроса
Каждый объект Python модержит ссылку на строку, именуемую docstring (строка документации), которое будет содержать краткое описание объекта и способ его использования.  

Встроенная функция help() помогает обращаться к этой информации. 

В IPython это осуществляется с помощью “?” в конце объекта. Объектом может быть что угодно, функции, типы объектов и даже созданные пользователем объекты, например, методы. 

В книге приведен пример как создавать docstring в встраиваемые методы (тройные ковычки согласно нотации языка для многострочных docstring). 

Также IPython позволяет отображать исходный код объекта (двойной знак вопроса “??”)
### Клавиша Tab. Функция автодополнения.
Функция автодополнения позволяет быстро заполнять необходимыми функциями, если они есть в списке. Если нужно использовать функции или строки, которые использовались до этого ранее, то нужно нажать на стрелку вниз или вверх.
В языке питон отсутствует четкое разграничение между открытыми и закрытыми атрибутами, поэтому по соглашениям для обозначения закрытых методов их имена принято начинать с символов подчеркивания (\_\_init\_\_). По умолчанию закрытые, а также специальные методы исключаются из списка вариантов автодополнения, но их можно вывести, набрав знак подчеркивания. Эти методы имеют специальное значение (dunder-методы).

Автодополнение удобно использовать для просмотра пакетов, доступных для импортирования (from import).

### Поиск с использованием шаблонного типа
Автодополнение удобно, когда известны первые несколько символов в имени искомого объекта или атрибута. Однако эта функция малопригодна, когда нужно найти соответствие по символам, находящимся в середине или конце имени. Тогда оболочка предлагает возможность поиска соответствий с использованием шаблонного символа "\*".
Например, ```str.*find?```В конце всегда ставится знак вопроса, чтобы оболочка выдала возможные методы или объекты, содержащие данную подстроку.

### Горячие клавиши в командной оболочке
Данный раздел в основном качается горячих клавиш именно в оболочке. Сгруппируем в несколько категорий: навигационные, горячие клавиши ввода текста, горячие клавиши для истории команд и прочие горячие клавиши.

1) Навигационные горячие клавиши: 
	1) CTRL+A перемещение курсора в начало строки 
	2) CTRL+E перемещение курсора в конец строки 
	3) CTRL+B или стрелка влево перемещение курсора назад на один символ 
	4) CTRL+F или стрелка вправо перемещение курсора вперед на один символ 
2) Горячие клавиши ввода текста: 
	1) BackSpace удаляет предыдущий символ в строке 
	2) CTRL+D удаляет следующий символ в строке (delete) 
	3) CTRL+K вырезает текст, начиная от курсора и до конца строки 
	4) CTRL+U вырезает текст с начала строки до курсора 
	5) CTRL+Y вставляет предварительно вырезанный текст 
	6) CTRL+T меняет местами предыдущие два символа 
3) Горячие клавиши для истории команд: 
	1) CTRL+P или стрелка вверх доступ к предыдущей команде в истории 
	2) CTRL+N или стрелка вниз доступ к следующей команде в истории 
	3) CTRL+R поиск в обратном направлении по истории команд Этот поиск в обратном направлении может быть очень полезным, потому что он выполняет поиск по предыдущим командам по введенной части. Если нажать два раза сочетание клавиш, когда оболочка предположила какая команда и вы ее выполняли, то двойное нажатие покажет результат выполнения команды.
4) Прочие горячие клавиши: 
	1) CTRL+L очистить экран терминала 
	2) CTRL+C или стрелка вниз прервать текущее выполнение команды 
	3) CTRL+D выйти из сеанса (работает при пустой строке приглашения к вводу
### Магические команды
В оболочке используются расширения обычного синтаксиса питона. Эти расширения и команды называются “магическими командами” и отличаются префиксом %. Предназначены для быстрого решения различных распространенных задач стандартного анализа данных. Существует два вида магических команд: строчные с префиксом с одним % и работающие с одной строкой ввода, и блочные с префиксом с двумя \%% и работающие с несколькими строками ввода.
1) Выполнение внешнего кода: %run 
	Начав писать более обширный код, нужно будет пользоваться текстовым редактором, в котором будут храниться блоки кода, которые предполагается использовать неоднократно. Будет удобно выполнять этот код не в отдельном окне, а непосредственно в сеансе. Например, у нас есть файл питона, в котором содержится блок кода. Его можно будет запустить в сеансе с помощью магической команды. Файл должен находиться в той же директории, что и сам сеанс (узнать это можно с помощью %pwd).
2) Измерение продолжительности выполнения кода: %timeit 
	Автоматически определяет продолжительность выполнения следующей за ней инструкции на языке питон. Преимущество использования в том, что она автоматически выполнит переданную ей инструкцию множество раз, чтобы получить максимально надежный результат. Для многострочных инструкций добавление второго % превратить ее в блочную магическую функцию, способную запускать многострочные функции.
3) Справка по магическим функциям: ?, %magic, %lsmagic 
	Подобно обычным функциям питона, магические функции имеют свои строки документации, и к ним можно обратиться обычным способом (с помощью знака вопроса). Для получения общего описания магических функций нужно ввести команду %magic, чтобы получить список всех функций ввести нужно %lsmagic
### История ввода и вывода
Кроме стрелок или CTRL+P/CTRL+N можно получить предыдущих команд, а также строковые версии этих команд.
1) Объекты In и Out оболочки 
	В оболочке есть приглашения In и Out, которые принимают ввод и показывают результат команд. Но за этим стоит нечто большее. На самом деле оболочка создает переменные с именами In и Out, автоматически обновляемые так, что они отражают историю. Если ввести In, то покажется история ввода, а если Out, то история вывода в виде линейного списка (In[1] которую мы видим в начале - это первый элемент списка, оболочка сохраняет все команды в виде строк, которые мы можем вывести с помощью print(In[1])).
	Объект Out это не список, а словарь, связывающий ввод с выводом. Мы можем проводить операции с элементами Out, это удобно, ведь не придется считать снова вывод какой-то операции, а просто можно ее взять из вывода.
2) Быстрый доступ к предыдущим выводам, с помощью знака подчеркивания. 
	Значение переменной _ (единственный символ подчеркивания) соответствует предыдущему выводу. Но в IPython можно использовать двойной и тройной символ подчеркивания, чтобы получить доступ к выводу на шаг раньше предыдущего и на два шага раньше от предыдущего (не считая команд, не генерировавших никакого вывода). Так же можно использовать \_X вместо Out[X].
3) Подавление вывода 
	Иногда может понадобиться подавить вывод инструкции (например, при рисовании графиков). Для этого на конце нужно поставить точку с запятой. Тогда вывод не сохраняется в словаре и вычисляется молча.
4) Соответствующие магические команды 
	Для доступа сразу к нескольким предыдущим вводам можно использовать %history. Также %rerun (выполняет повторно заданную часть истории команд), %save (сохраняющая какую-либо часть истории команд в файле).
